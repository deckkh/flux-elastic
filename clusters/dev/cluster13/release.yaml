apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata: 
  name: cluster13
  namespace: observability
spec:
  releaseName: cluster13
  targetNamespace: observability
  chart:
    spec:
      chart: /charts/elastic-cluster
      sourceRef:
        kind: GitRepository
        name: flux-elastic
        namespace: flux-system
  interval: 1m
  values:
    myvar: yeah

    elastic:
      version: 8.1.1

    ingestpipelines:
      mypipeline: true

    ilms:
      mypolicy: true

    slms:
      mypolicy: true

    rolemappings:
      mapping1: true

    indextemplates:
      myindextemplate: true
      winlogbeat: true

    clustersettings:
      recovery: true
      monitoring: true

    roles: 
      role3: true
      role4: true

    apikeys:
      metricbeat: true
      filebeat: true

    kibanaspaces:
      metricbeat: true
      winlogbeat: false
      rally: false

    master:
      nodeset: 
        count: 1    

    data:
      nodeset: 
        count: 0

    datahot:
      nodeset: 
        count: 1
        
    ingest:
      nodeset: 
        count: 1
